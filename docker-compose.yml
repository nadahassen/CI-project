version: '2'
volumes:
 dbdata:

services:
 mysql:
  image: mysql:8
  container_name: mysqldb
  volumes:
    - /home/mysql/data:/var/lib/mysql
  restart: on-failure
  environment:
    - MYSQL_ROOT_PASSWORD=root
    - MYSQL_DATABASE=achatdb
    - MYSQL_PASSWORD=
 spring_app:
   image: siwar3398/achat
   container_name: achatbackend
   restart: on-failure
   environment:
    - spring.datasource.url=jdbc:mysql://localhost:3306/achatdb?useUnicode=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC
   ports:
    - 8089:8089